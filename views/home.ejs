<%- include('partials/header', { seo: seo, config: config }) %>

<div class="bg-neutral-50 border-4 border-black p-4 md:p-6 mb-6 text-center shadow-[4px_4px_0_0_#000]">
    <h1 class="text-3xl md:text-5xl font-black uppercase tracking-tighter mb-1 text-black break-words">
        UPLOAD<span class="text-[#FF90E8]">_</span>NOW
    </h1>
    <p class="text-base md:text-lg font-bold font-mono uppercase text-neutral-600 max-w-3xl mx-auto">
        Secure. Simple. Brutal.
    </p>
</div>

<div class="max-w-3xl mx-auto">
    
    <form id="home-upload-form" action="/upload" method="post" enctype="multipart/form-data" 
          data-upload-form 
          data-max-size="<%= config.uploads.max_size_bytes %>"
          data-progress-container="p-cont" data-progress-bar="p-bar"
          data-percentage-text="p-text" data-filename-text="p-name"
          data-error-text="p-err" data-success-text="p-succ">
        
        <div class="border-4 border-black bg-white p-2">
            <label for="media-input" data-drop-zone class="border-4 border-dashed border-black bg-neutral-50 p-6 md:p-8 text-center transition-all hover:bg-[#FFDE59] group cursor-pointer block w-full h-full">
                <div class="w-14 h-14 bg-black text-white rounded-full flex items-center justify-center mx-auto mb-3 group-hover:scale-110 transition-transform">
                    <i class="fa-solid fa-cloud-arrow-up text-xl"></i>
                </div>
                <h2 class="text-xl font-black uppercase mb-1">Drag & Drop</h2>
                <p class="font-mono text-xs font-bold uppercase text-neutral-500 mb-4">Or click to browse files</p>
                <span class="inline-block bg-black text-white px-5 py-2 font-mono text-sm font-bold border-2 border-transparent hover:bg-white hover:text-black hover:border-black transition-colors">
                    SELECT FILE
                </span>
                <input type="file" name="media" accept="audio/*,video/*" class="hidden" id="media-input">
            </label>
        </div>

        <div class="mt-4 flex justify-between items-center font-mono text-xs font-bold border-2 border-black p-2 bg-[#5CE1E6]">
            <span>SUPPORTED: MP3, WAV, MP4, WEBM</span>
            <span>MAX: <%= config.uploads.limit_text %></span>
        </div>
    </form>

    <div id="p-cont" class="hidden mt-6 border-4 border-black bg-white p-4 shadow-[8px_8px_0_0_#000]">
        <div class="flex justify-between font-mono font-bold mb-2">
            <span id="p-name" class="truncate max-w-[70%]">Uploading...</span>
            <span id="p-text">0%</span>
        </div>
        <div class="w-full h-4 border-2 border-black p-0.5">
            <div id="p-bar" class="h-full bg-[#FF4D4D] w-0 transition-all duration-200"></div>
        </div>
    </div>

    <div id="p-err" class="hidden mt-6 border-4 border-black bg-red-50 p-4 shadow-[8px_8px_0_0_#FF4D4D]">
        <h3 class="font-black uppercase text-red-600 mb-1">Error</h3>
        <p class="font-mono text-sm"></p>
    </div>
    
    <div id="p-succ" class="hidden mt-6 border-4 border-black bg-green-50 p-4 shadow-[8px_8px_0_0_#00CC00]">
        <h3 class="font-black uppercase text-green-700 mb-1">Success</h3>
        <p class="font-mono text-sm">Redirecting to media...</p>
    </div>

</div>

<script src="/assets/js/uploader.js"></script>

<%- include('partials/footer', { config: config }) %>
